<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actividad 3</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/vue-router@4.0.15/dist/vue-router.global.js"></script>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <!-- Convertir el formulario para crear un post en un componente, crear un componente para editarPost??? -->
    
    <div id="app">
        <Mainheader></Mainheader>
        <!-- <router-link to="/">Lista de posts</router-link>
         -->
        <!-- <router-link :to="{name: 'Formcreateeditpost', params: {btnCreatePost: true, btnSetPost: false} }" >
            <button>Crear Post</button>
        </router-link> -->
        <router-view :posts="posts"></router-view>
        <Mainfooter></Mainfooter>

    </div>
    
    <script type="module">
        import router from "./router.js";
        import Mainheader from "./Mainheader.js";
        import Mainfooter from "./Mainfooter.js";

        const { createApp } = Vue;
        let app = createApp({
            data: function () {
                return {
                    posts: [],
                };
            },
            components: {
                Mainheader,
                Mainfooter,
            },
            // Recupera los posts del localStorage
            mounted() {
                if(localStorage.getItem("posts") != null){
                    this.posts = JSON.parse(localStorage.getItem("posts"));
                }else{
                    console.log("No existen post para mostrar");
                    this.posts = [];
                }
                this.$router.push("/")
            }
    
        }).use(router).mount('#app')
    </script>
    
</body>


</html>